# ğŸ·ï¸ åœ°å€æ ‡ç­¾é›†æˆåŠŸèƒ½ä½¿ç”¨æŒ‡å—

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ä»£å¸äº¤æ˜“åˆ†æå™¨ç°åœ¨å·²ç»é›†æˆäº†SQLiteåœ°å€æ ‡ç­¾æŸ¥è¯¢åŠŸèƒ½ï¼åœ¨ç”Ÿæˆåˆ†æç»“æœæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªåœ°å€è°ƒç”¨`sqlite_address_querier.py`ä¸­çš„`get_address_label`æ–¹æ³•æ¥è·å–æ ‡ç­¾ä¿¡æ¯ã€‚

## ğŸ”§ åŠŸèƒ½ç‰¹æ€§

### âœ… è‡ªåŠ¨åœ°å€æ ‡ç­¾æŸ¥è¯¢
- **å¤šçº§æŸ¥è¯¢ç­–ç•¥**: åœ°å€å¸¸é‡ â†’ SQLiteç¼“å­˜ â†’ å¤–éƒ¨API â†’ é»˜è®¤å€¼
- **æ™ºèƒ½ç¼“å­˜**: Unknownç»“æœä¼šè¢«ä¿å­˜ä½†ä¸é˜»æ­¢é‡æ–°æŸ¥è¯¢
- **å¤šç½‘ç»œæ”¯æŒ**: Ethereum, Polygon, BSC
- **å¢å¼ºè¾“å‡º**: åˆ†æç»“æœåŒ…å«è¯¦ç»†çš„åœ°å€æ ‡ç­¾ä¿¡æ¯

### âœ… å¢å¼ºçš„è¾“å‡ºæ ¼å¼

#### JSONè¾“å‡ºå¢å¼º
```json
{
  "address_labels_enabled": true,
  "filtered_contracts": [
    {
      "rank": 1,
      "address": "0x...",
      "name": "Original Name",
      "address_label": "Binance Hot Wallet",
      "address_type": "exchange",
      "label_source": "constants",
      "transaction_count": 150,
      "total_amount": 50000000.0
    }
  ]
}
```

#### TXTè¾“å‡ºå¢å¼º
```text
äº¤äº’æ•°é‡å¤§äº10çš„åˆçº¦ (æŒ‰äº¤äº’æ•°é‡æ’åº):
----------------------------------------------------------------------
1. Contract Name
   åœ°å€: 0x1234567890abcdef1234567890abcdef12345678
   æ ‡ç­¾: Binance Hot Wallet  
   ç±»å‹: exchange
   æ ‡ç­¾æ¥æº: constants
   äº¤äº’æ¬¡æ•°: 150 æ¬¡
   æ€»é‡‘é¢: 50,000,000.00 USDT
   å¹³å‡é‡‘é¢: 333,333.33 USDT
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```bash
# æ ‡å‡†åˆ†æï¼ˆè‡ªåŠ¨å¯ç”¨åœ°å€æ ‡ç­¾ï¼‰
python token_deposit_analyzer.py '2025-10-24 00:00:00' '2025-10-24 23:59:59' 1000000

# æŒ‡å®šç½‘ç»œå’Œä»£å¸
python token_deposit_analyzer.py '2025-10-24 00:00:00' '2025-10-24 23:59:59' 1000000 ethereum USDT
```

### åœ°å€æ ‡ç­¾åŠŸèƒ½çŠ¶æ€
- âœ… **å¯ç”¨**: å¦‚æœ`sqlite_address_querier.py`å¯ç”¨
- âš ï¸ **ç¦ç”¨**: å¦‚æœæ— æ³•å¯¼å…¥åœ°å€æŸ¥è¯¢å™¨æ¨¡å—

## ğŸ“Š æŸ¥è¯¢æµç¨‹

æ¯ä¸ªåœ°å€çš„æ ‡ç­¾æŸ¥è¯¢æµç¨‹ï¼š

1. **åœ°å€å¸¸é‡æŸ¥è¯¢** ğŸ“–
   - æŸ¥è¯¢`address_constants.py`ä¸­çš„é¢„å®šä¹‰æ ‡ç­¾
   - å‘½ä¸­ç‡ç»Ÿè®¡: `constants_hits`

2. **SQLiteç¼“å­˜æŸ¥è¯¢** ğŸ’¾  
   - æŸ¥è¯¢æœ¬åœ°SQLiteæ•°æ®åº“ç¼“å­˜
   - è·³è¿‡Unknownç»“æœï¼Œç»§ç»­ä¸‹ä¸€æ­¥
   - å‘½ä¸­ç‡ç»Ÿè®¡: `sqlite_hits`

3. **å¤–éƒ¨APIæŸ¥è¯¢** ğŸŒ
   - æŸ¥è¯¢Etherscan/Polygonscan/BSCScan API
   - è·å–åˆçº¦åç§°å’ŒéªŒè¯çŠ¶æ€
   - æŸ¥è¯¢ç»Ÿè®¡: `api_queries`

4. **ç»“æœä¿å­˜** ğŸ’¿
   - ä¿å­˜æ‰€æœ‰ç»“æœåˆ°SQLiteï¼ˆåŒ…æ‹¬Unknownï¼‰
   - æ›´æ–°ç»Ÿè®¡: `sqlite_updates`

## ğŸ“ˆ æ—¥å¿—è¾“å‡ºç¤ºä¾‹

```
ğŸ·ï¸ åœ°å€æ ‡ç­¾æŸ¥è¯¢å™¨å·²å¯ç”¨
ğŸ” æŸ¥è¯¢åœ°å€: 0x742d35cc...6da4b7d8 (ethereum)
   âœ… å¸¸é‡åº“å‘½ä¸­: Binance Hot Wallet
ğŸ“› 0x742d35cc...6da4b7d8: Binance Hot Wallet

ğŸ” æŸ¥è¯¢åœ°å€: 0xa0b86a33...9b8c8d8e (ethereum)  
   ğŸŒ æŸ¥è¯¢ethereum API...
   ğŸ¯ APIæŸ¥è¯¢æˆåŠŸ: Contract: TokenSwap
ğŸ“› 0xa0b86a33...9b8c8d8e: Contract: TokenSwap

ğŸ“Š SQLiteæ•°æ®åº“å·²å…³é—­
```

## ğŸ—ƒï¸ æ•°æ®åº“ç®¡ç†

### æŸ¥çœ‹æ ‡ç­¾æ•°æ®åº“
```bash
python sqlite_db_manager.py view address_labels.db
```

### æœç´¢ç‰¹å®šåœ°å€
```bash  
python sqlite_db_manager.py search address_labels.db 0x742d35Cc6634C0532925a3b8D2b9e9b16da4B7d8
```

### æ¸…ç†Unknownè®°å½•
```bash
python sqlite_db_manager.py clean address_labels.db
```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥
- **æœ‰æ•ˆç¼“å­˜**: éUnknownç»“æœä¼šè¢«ç¼“å­˜å¹¶å¤ç”¨
- **æ™ºèƒ½é‡è¯•**: Unknownç»“æœä¸é˜»æ­¢APIé‡æ–°æŸ¥è¯¢
- **è¿‡æœŸå¤„ç†**: ç¼“å­˜è®°å½•7å¤©åè¿‡æœŸ

### APIé™åˆ¶å¤„ç†
- **æŸ¥è¯¢é—´éš”**: APIæŸ¥è¯¢åè‡ªåŠ¨å»¶è¿Ÿ0.5ç§’
- **é”™è¯¯å¤„ç†**: APIå¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤Unknownæ ‡ç­¾
- **è¶…æ—¶ä¿æŠ¤**: 10ç§’è¶…æ—¶é¿å…é•¿æ—¶é—´ç­‰å¾…

## ğŸ“ é…ç½®é€‰é¡¹

### ç¯å¢ƒå˜é‡
```bash
# è®¾ç½®APIå¯†é’¥ä»¥æé«˜æŸ¥è¯¢é™åˆ¶
export ETHERSCAN_API_KEY="your_api_key_here"
```

### æ•°æ®åº“ä½ç½®
- é»˜è®¤: `address_labels.db`
- å¯åœ¨SQLiteAddressLabelQuerieråˆå§‹åŒ–æ—¶æŒ‡å®š

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **åœ°å€æ ‡ç­¾åŠŸèƒ½æœªå¯ç”¨**
   ```
   âš ï¸ sqlite_address_querier.py æœªæ‰¾åˆ°ï¼Œåœ°å€æ ‡ç­¾åŠŸèƒ½å°†è¢«ç¦ç”¨
   ```
   - ç¡®ä¿`sqlite_address_querier.py`åœ¨å½“å‰ç›®å½•
   - æ£€æŸ¥æ–‡ä»¶æƒé™

2. **APIæŸ¥è¯¢å¤±è´¥** 
   ```
   âš ï¸ ethereum APIæŸ¥è¯¢å¤±è´¥: timeout
   ```
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - éªŒè¯APIå¯†é’¥è®¾ç½®
   - æŸ¥çœ‹APIé™åˆ¶çŠ¶æ€

3. **SQLiteé”™è¯¯**
   ```
   âŒ SQLiteä¿å­˜å¤±è´¥: database is locked
   ```
   - å…³é—­å…¶ä»–ä½¿ç”¨æ•°æ®åº“çš„è¿›ç¨‹
   - æ£€æŸ¥æ–‡ä»¶æƒé™

## ğŸ“Š è¾“å‡ºæ–‡ä»¶å¢å¼º

### æ–°å¢å­—æ®µè¯´æ˜

| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `address_labels_enabled` | æ ‡ç­¾åŠŸèƒ½çŠ¶æ€ | `true/false` |
| `address_label` | æŸ¥è¯¢åˆ°çš„åœ°å€æ ‡ç­¾ | `"Binance Hot Wallet"` |
| `address_type` | åœ°å€ç±»å‹ | `"exchange"/"contract"/"unknown"` |
| `label_source` | æ ‡ç­¾æ•°æ®æº | `"constants"/"sqlite"/"api"/"default"` |

### å…¼å®¹æ€§
- åŸæœ‰å­—æ®µä¿æŒä¸å˜
- æ–°å­—æ®µä»…åœ¨å¯ç”¨æ ‡ç­¾åŠŸèƒ½æ—¶æ·»åŠ 
- ç¦ç”¨æ—¶ä½¿ç”¨åŸæœ‰çš„`name`å­—æ®µä½œä¸ºæ ‡ç­¾

## ğŸ‰ æ€»ç»“

é€šè¿‡é›†æˆSQLiteåœ°å€æ ‡ç­¾æŸ¥è¯¢åŠŸèƒ½ï¼Œç°åœ¨çš„äº¤æ˜“åˆ†æå™¨å¯ä»¥ï¼š

- âœ… **è‡ªåŠ¨è¯†åˆ«çŸ¥ååœ°å€** - äº¤æ˜“æ‰€ã€DeFiåè®®ç­‰
- âœ… **æ™ºèƒ½ç¼“å­˜ç®¡ç†** - æé«˜æŸ¥è¯¢æ•ˆç‡
- âœ… **è¯¦ç»†æ ‡ç­¾ä¿¡æ¯** - ç±»å‹ã€æ¥æºã€éªŒè¯çŠ¶æ€
- âœ… **ç»Ÿè®¡æ•°æ®å®Œæ•´** - åŒ…å«æŸ¥è¯¢å‘½ä¸­ç‡ç­‰ä¿¡æ¯
- âœ… **å‘åå…¼å®¹** - ä¸å½±å“ç°æœ‰åŠŸèƒ½

äº«å—æ›´æ™ºèƒ½çš„åŒºå—é“¾äº¤æ˜“åˆ†æä½“éªŒï¼ğŸš€